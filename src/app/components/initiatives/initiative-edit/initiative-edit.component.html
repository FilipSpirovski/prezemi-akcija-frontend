<nb-card size="giant" class="text-center">
  <nb-card-header> Feel free to update your initiative! </nb-card-header>
  <nb-card-body class="d-flex justify-content-center">
    <form
      class="d-flex flex-column justify-content-around"
      [formGroup]="initiativeForm"
      (ngSubmit)="onSubmit()"
    >
      <div>
        <label for="categoryName">Category</label>
        <div class="mt-1">
          <nb-select
            fullWidth
            status="basic"
            id="categoryName"
            formControlName="categoryName"
          >
            <nb-option value="ANIMALS">Animals</nb-option>
            <nb-option value="HUMAN_RIGHTS">Human rights</nb-option>
            <nb-option value="HEALTH">Health</nb-option>
            <nb-option value="ENVIRONMENT">Environment</nb-option>
            <nb-option value="POLITICS">Politics</nb-option>
            <nb-option value="DISABILITY">Disability</nb-option>
            <nb-option value="RACIAL_JUSTICE">Racial justice</nb-option>
            <nb-option value="OTHER">Other</nb-option>
          </nb-select>
          <div
            *ngIf="
              categoryName.invalid &&
              (categoryName.dirty || categoryName.touched)
            "
          >
            <small class="text-danger" *ngIf="categoryName.errors.required">
              This field is required.
            </small>
          </div>
        </div>
      </div>
      <div>
        <label for="title">Title</label>
        <nb-form-field class="mt-1">
          <input
            nbInput
            fullWidth
            type="text"
            id="title"
            formControlName="title"
          />
          <div *ngIf="title.invalid && (title.dirty || title.touched)">
            <small class="text-danger" *ngIf="title.errors.required">
              This field is required.
            </small>
            <small class="text-danger" *ngIf="title.errors.maxlength">
              The maximum length for this field is 255 characters.
            </small>
          </div>
          <!-- <nb-icon
            nbSuffix
            icon="edit-outline"
            status="primary"
            pack="eva"
          ></nb-icon> -->
        </nb-form-field>
      </div>
      <div>
        <label for="description">Description</label>
        <nb-form-field class="mt-1">
          <textarea
            nbInput
            fullWidth
            id="description"
            formControlName="description"
          ></textarea>
          <div
            *ngIf="
              description.invalid && (description.dirty || description.touched)
            "
          >
            <small class="text-danger" *ngIf="description.errors.required">
              This field is required.
            </small>
            <small class="text-danger" *ngIf="description.errors.maxlength">
              The maximum length for this field is 1000 characters.
            </small>
          </div>
          <!-- <nb-icon
            nbSuffix
            icon="edit-outline"
            status="primary"
            pack="eva"
          ></nb-icon> -->
        </nb-form-field>
      </div>
      <div>
        <label for="scheduledFor">Scheduled for</label>
        <nb-form-field class="mt-1">
          <input
            nbInput
            fullWidth
            type="datetime-local"
            id="scheduledFor"
            formControlName="scheduledFor"
          />
          <div
            *ngIf="
              scheduledFor.invalid &&
              (scheduledFor.dirty || scheduledFor.touched)
            "
          >
            <small class="text-danger" *ngIf="scheduledFor.errors.required">
              This field is required.
            </small>
            <small class="text-danger" *ngIf="scheduledFor.errors.invalidDate">
              The selected date must be in the future.
            </small>
          </div>
        </nb-form-field>
      </div>
      <div>
        <label for="eventTypeName">Event type</label>
        <div class="mt-1">
          <nb-select
            fullWidth
            status="basic"
            id="eventTypeName"
            formControlName="eventTypeName"
          >
            <nb-option value="IN_GROUP">In group</nb-option>
            <nb-option value="ONLINE">Online</nb-option>
          </nb-select>
          <div
            *ngIf="
              eventTypeName.invalid &&
              (eventTypeName.dirty || eventTypeName.touched)
            "
          >
            <small class="text-danger" *ngIf="eventTypeName.errors.required">
              This field is required.
            </small>
          </div>
        </div>
      </div>
      <div>
        <label for="location">Location</label>
        <nb-form-field class="mt-1">
          <input
            nbInput
            fullWidth
            id="location"
            type="text"
            id="location"
            formControlName="location"
          />
          <div *ngIf="location.invalid && (location.dirty || location.touched)">
            <small class="text-danger" *ngIf="location.errors.required">
              This field is required.
            </small>
            <small class="text-danger" *ngIf="location.errors.maxlength">
              The maximum length for this field is 255 characters.
            </small>
          </div>
          <!-- <nb-icon
            nbSuffix
            icon="edit-outline"
            status="primary"
            pack="eva"
          ></nb-icon> -->
        </nb-form-field>
      </div>
      <div class="d-flex justify-content-around mt-2 mb-2">
        <button
          nbButton
          type="button"
          shape="round"
          size="small"
          status="danger"
          (click)="onCancel()"
        >
          Cancel
        </button>
        <button
          nbButton
          type="submit"
          shape="round"
          size="small"
          status="primary"
          [disabled]="initiativeForm.invalid || !initiativeForm.touched"
        >
          Save changes
        </button>
      </div>
    </form>
  </nb-card-body>
</nb-card>
